diff -rupN xkb.ori/keycodes/evdev xkb/keycodes/evdev
--- xkb.ori/keycodes/evdev	2020-02-29 12:32:57.000000000 +0100
+++ xkb/keycodes/evdev	2022-05-08 09:28:55.525042672 +0200
@@ -2,7 +2,8 @@
 
 default xkb_keycodes "evdev" {
 	minimum = 8;
-	maximum = 255;
+	#maximum = 255;
+	maximum = 1024;
 
         # Added for pc105 compatibility
         <LSGT> = 94;
diff -rupN xkb.ori/keycodes/xfree86 xkb/keycodes/xfree86
--- xkb.ori/keycodes/xfree86	2020-02-29 12:32:57.000000000 +0100
+++ xkb/keycodes/xfree86	2022-05-08 09:28:55.525042672 +0200
@@ -11,7 +11,8 @@ default xkb_keycodes "xfree86" {
 xkb_keycodes "basic" {
 
     minimum= 8;
-    maximum= 255;
+    #maximum= 255;
+    maximum= 1024;
 
     <TLDE> =  49;
     alias <AE00> = <TLDE>;	// Some geometries use AE00
diff -rupN xkb.ori/rules/base xkb/rules/base
--- xkb.ori/rules/base	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/base	2022-05-08 09:42:04.021677392 +0200
@@ -1241,6 +1241,7 @@
   shift:lshift_both_shiftlock        =       +shift(lshift_both_shiftlock)
   shift:rshift_both_shiftlock        =       +shift(rshift_both_shiftlock)
   solaris:sun_compat				 =		 +sun_vndr/solaris(sun_compat)
+  chromeb:cbnavkeys                  =       +inet(cbnavkeys)
   lv3:caps_switch                    =       +level3(caps_switch)
   lv3:bksl_switch                    =       +level3(bksl_switch)
   lv3:lsgt_switch                    =       +level3(lsgt_switch)
diff -rupN xkb.ori/rules/base.extras.xml xkb/rules/base.extras.xml
--- xkb.ori/rules/base.extras.xml	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/base.extras.xml	2022-05-08 09:28:55.525042672 +0200
@@ -172,6 +172,12 @@
         </variant>
         <variant>
           <configItem>
+            <name>cbfkeys</name>
+            <description>German (CB Function Keys)</description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>ru-recom</name>
             <!-- Keyboard indicator for Russian layouts -->
             <shortDescription>ru</shortDescription>
diff -rupN xkb.ori/rules/base.lst xkb/rules/base.lst
--- xkb.ori/rules/base.lst	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/base.lst	2022-05-08 09:41:48.145851720 +0200
@@ -970,5 +970,6 @@
   esperanto:colemak    To the corresponding key in a Colemak layout
   solaris              Maintain key compatibility with old Solaris keycodes
   solaris:sun_compat   Sun Key compatibility
+  chromeb:cbnavkeys    Chromebook Alt Gr Nav Keys
   terminate            Key sequence to kill the X server
   terminate:ctrl_alt_bksp Ctrl+Alt+Backspace
diff -rupN xkb.ori/rules/base.xml xkb/rules/base.xml
--- xkb.ori/rules/base.xml	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/base.xml	2022-05-08 09:41:56.053764741 +0200
@@ -7598,6 +7598,18 @@
     </group>
     <group allowMultipleSelection="true">
       <configItem>
+        <name>chromeb</name>
+        <description>Special Key Overlays for Chromebooks</description>
+      </configItem>
+      <option>
+        <configItem>
+          <name>chromeb:cbnavkeys</name>
+          <description>Chromebook Alt Gr Nav Keys</description>
+        </configItem>
+      </option>
+    </group>
+    <group allowMultipleSelection="true">
+      <configItem>
         <name>terminate</name>
         <description>Key sequence to kill the X server</description>
       </configItem>
diff -rupN xkb.ori/rules/evdev xkb/rules/evdev
--- xkb.ori/rules/evdev	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/evdev	2022-05-08 09:42:19.413509417 +0200
@@ -1127,6 +1127,7 @@
   shift:lshift_both_shiftlock        =       +shift(lshift_both_shiftlock)
   shift:rshift_both_shiftlock        =       +shift(rshift_both_shiftlock)
   solaris:sun_compat				 =		 +sun_vndr/solaris(sun_compat)
+  chromeb:cbnavkeys                  =       +inet(cbnavkeys)
   lv3:caps_switch                    =       +level3(caps_switch)
   lv3:bksl_switch                    =       +level3(bksl_switch)
   lv3:lsgt_switch                    =       +level3(lsgt_switch)
diff -rupN xkb.ori/rules/evdev.extras.xml xkb/rules/evdev.extras.xml
--- xkb.ori/rules/evdev.extras.xml	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/evdev.extras.xml	2022-05-08 09:42:23.221468004 +0200
@@ -172,6 +172,12 @@
         </variant>
         <variant>
           <configItem>
+            <name>cbfkeys</name>
+            <description>German (CB Function Keys)</description>
+          </configItem>
+        </variant>
+        <variant>
+          <configItem>
             <name>ru-recom</name>
             <!-- Keyboard indicator for Russian layouts -->
             <shortDescription>ru</shortDescription>
diff -rupN xkb.ori/rules/evdev.lst xkb/rules/evdev.lst
--- xkb.ori/rules/evdev.lst	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/evdev.lst	2022-05-08 09:42:38.517302182 +0200
@@ -970,5 +970,6 @@
   esperanto:colemak    To the corresponding key in a Colemak layout
   solaris              Maintain key compatibility with old Solaris keycodes
   solaris:sun_compat   Sun Key compatibility
+  chromeb:cbnavkeys    Chromebook Alt Gr Nav Keys
   terminate            Key sequence to kill the X server
   terminate:ctrl_alt_bksp Ctrl+Alt+Backspace
diff -rupN xkb.ori/rules/evdev.xml xkb/rules/evdev.xml
--- xkb.ori/rules/evdev.xml	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/evdev.xml	2022-05-08 09:42:51.013167289 +0200
@@ -7598,6 +7598,18 @@
     </group>
     <group allowMultipleSelection="true">
       <configItem>
+        <name>chromeb</name>
+        <description>Special Key Overlays for Chromebooks</description>
+      </configItem>
+      <option>
+        <configItem>
+          <name>chromeb:cbnavkeys</name>
+          <description>Chromebook Alt Gr Nav Keys</description>
+        </configItem>
+      </option>
+    </group>
+    <group allowMultipleSelection="true">
+      <configItem>
         <name>terminate</name>
         <description>Key sequence to kill the X server</description>
       </configItem>
diff -rupN xkb.ori/rules/xfree86 xkb/rules/xfree86
--- xkb.ori/rules/xfree86	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/xfree86	2022-05-08 09:42:04.021677392 +0200
@@ -1241,6 +1241,7 @@
   shift:lshift_both_shiftlock        =       +shift(lshift_both_shiftlock)
   shift:rshift_both_shiftlock        =       +shift(rshift_both_shiftlock)
   solaris:sun_compat				 =		 +sun_vndr/solaris(sun_compat)
+  chromeb:cbnavkeys                  =       +inet(cbnavkeys)
   lv3:caps_switch                    =       +level3(caps_switch)
   lv3:bksl_switch                    =       +level3(bksl_switch)
   lv3:lsgt_switch                    =       +level3(lsgt_switch)
diff -rupN xkb.ori/rules/xfree86.lst xkb/rules/xfree86.lst
--- xkb.ori/rules/xfree86.lst	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/xfree86.lst	2022-05-08 09:41:48.145851720 +0200
@@ -970,5 +970,6 @@
   esperanto:colemak    To the corresponding key in a Colemak layout
   solaris              Maintain key compatibility with old Solaris keycodes
   solaris:sun_compat   Sun Key compatibility
+  chromeb:cbnavkeys    Chromebook Alt Gr Nav Keys
   terminate            Key sequence to kill the X server
   terminate:ctrl_alt_bksp Ctrl+Alt+Backspace
diff -rupN xkb.ori/rules/xfree86.xml xkb/rules/xfree86.xml
--- xkb.ori/rules/xfree86.xml	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/xfree86.xml	2022-05-08 09:41:56.053764741 +0200
@@ -7598,6 +7598,18 @@
     </group>
     <group allowMultipleSelection="true">
       <configItem>
+        <name>chromeb</name>
+        <description>Special Key Overlays for Chromebooks</description>
+      </configItem>
+      <option>
+        <configItem>
+          <name>chromeb:cbnavkeys</name>
+          <description>Chromebook Alt Gr Nav Keys</description>
+        </configItem>
+      </option>
+    </group>
+    <group allowMultipleSelection="true">
+      <configItem>
         <name>terminate</name>
         <description>Key sequence to kill the X server</description>
       </configItem>
diff -rupN xkb.ori/rules/xorg xkb/rules/xorg
--- xkb.ori/rules/xorg	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/xorg	2022-05-08 09:42:04.021677392 +0200
@@ -1241,6 +1241,7 @@
   shift:lshift_both_shiftlock        =       +shift(lshift_both_shiftlock)
   shift:rshift_both_shiftlock        =       +shift(rshift_both_shiftlock)
   solaris:sun_compat				 =		 +sun_vndr/solaris(sun_compat)
+  chromeb:cbnavkeys                  =       +inet(cbnavkeys)
   lv3:caps_switch                    =       +level3(caps_switch)
   lv3:bksl_switch                    =       +level3(bksl_switch)
   lv3:lsgt_switch                    =       +level3(lsgt_switch)
diff -rupN xkb.ori/rules/xorg.lst xkb/rules/xorg.lst
--- xkb.ori/rules/xorg.lst	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/xorg.lst	2022-05-08 09:41:48.145851720 +0200
@@ -970,5 +970,6 @@
   esperanto:colemak    To the corresponding key in a Colemak layout
   solaris              Maintain key compatibility with old Solaris keycodes
   solaris:sun_compat   Sun Key compatibility
+  chromeb:cbnavkeys    Chromebook Alt Gr Nav Keys
   terminate            Key sequence to kill the X server
   terminate:ctrl_alt_bksp Ctrl+Alt+Backspace
diff -rupN xkb.ori/rules/xorg.xml xkb/rules/xorg.xml
--- xkb.ori/rules/xorg.xml	2020-02-29 12:32:57.000000000 +0100
+++ xkb/rules/xorg.xml	2022-05-08 09:41:56.053764741 +0200
@@ -7598,6 +7598,18 @@
     </group>
     <group allowMultipleSelection="true">
       <configItem>
+        <name>chromeb</name>
+        <description>Special Key Overlays for Chromebooks</description>
+      </configItem>
+      <option>
+        <configItem>
+          <name>chromeb:cbnavkeys</name>
+          <description>Chromebook Alt Gr Nav Keys</description>
+        </configItem>
+      </option>
+    </group>
+    <group allowMultipleSelection="true">
+      <configItem>
         <name>terminate</name>
         <description>Key sequence to kill the X server</description>
       </configItem>
diff -rupN xkb.ori/symbols/de xkb/symbols/de
--- xkb.ori/symbols/de	2020-02-29 12:32:57.000000000 +0100
+++ xkb/symbols/de	2022-05-08 09:28:55.529042612 +0200
@@ -1106,3 +1106,51 @@ partial alphanumeric_keys
     key <AD10> { [ p, P, ediaeresis, Ediaeresis ] };
 
 };
+
+// use this as a second key layout, switch between them with some key combination 
+// there are many predefined options for fast-switching like strg+shift or alt+space
+partial
+xkb_symbols "cbfkeys" {
+    include "de(basic)"
+    name[Group1]="German (CB Function Keys)";
+    key <I166> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F1, F1, F1, F1, XF86_Switch_VT_1 ]
+    };
+    key <I167> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F2, F2, F2, F2, XF86_Switch_VT_2 ]
+    };
+    key <I181> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F3, F3, F3, F3, XF86_Switch_VT_3 ]
+    };
+    key <I380> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F4, F4, F4, F4, XF86_Switch_VT_4 ]
+    };
+    key <I128> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F5, F5, F5, F5, XF86_Switch_VT_5 ]
+    };
+    key <I232> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F6, F6, F6, F6, XF86_Switch_VT_6 ]
+    };
+    key <I233> {
+        type="CTRL+ALT",
+        symbols[Group1]= [ F7, F7, F7, F7, XF86_Switch_VT_7 ]
+    };
+    key <MUTE> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F8, F8, F8, F8, XF86_Switch_VT_8 ]
+    };
+    key <VOL-> {
+	type="CTRL+ALT",
+	symbols[Group1]= [ F9, F9, F9, F9, XF86_Switch_VT_9 ]
+    };
+    key <VOL+> {
+        type="CTRL+ALT",
+        symbols[Group1]= [ F10, F10, F10, F10, XF86_Switch_VT_10 ]
+    };
+};
diff -rupN xkb.ori/symbols/inet xkb/symbols/inet
--- xkb.ori/symbols/inet	2020-02-29 12:32:57.000000000 +0100
+++ xkb/symbols/inet	2022-05-08 09:41:38.625956838 +0200
@@ -1897,3 +1897,18 @@ xkb_symbols "teck229" {
     include "inet(teck227)"
 };
 
+// Chromebooks do not have keys like Insert, Delete, Home or Page Up/Down
+// so we have to use alternate key functions (Alt Gr) with other keys
+partial
+xkb_symbols "cbnavkeys" {
+    // Wayland doesn't support real xkb overlays, so this is no longer 
+    // an overlay but a Level3_shift-function
+    key <BKSP> { [BackSpace, BackSpace, Delete, Insert ] };
+    key <I150> { [Delete, Delete, Insert, Insert ] };
+    key <LWIN> { [ Super_L, Super_L, Caps_Lock, Super_L ] };
+    key <UP>   { [ Up, Up, Prior, Prior ] };
+    key <DOWN> { [ Down, Down, Next, Next ] };
+    key <LEFT> { [ Left, Left, Home, Home ] };
+    key <RGHT> { [ Right, Right, End, End ] };
+};
+
